1768962344
441d63ebbc39eba359c9061ece8482bd-phpdoc%3Aa4c418df76e1713f677a862992cc4944-934b317466c442a078de2a4cabd1b576
s:26220:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lIjtzOjEzOiJyZXplcnZhY2UucGhwIjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWVzcGFjZXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNvbnN0YW50cyI7YTowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjbGFzc2VzIjthOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGludGVyZmFjZXMiO2E6MDp7fXM6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAdHJhaXRzIjthOjA6e31zOjQwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGVudW1zIjthOjA6e31zOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjkzNGIzMTc0NjZjNDQyYTA3OGRlMmE0Y2FiZDFiNTc2IjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHBhdGgiO3M6MTM6InJlemVydmFjZS5waHAiO3M6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAc291cmNlIjtzOjE3NDc0OiI8P3BocAovKioKICogQGZpbGUgcmV6ZXJ2YWNlLnBocAogKiBTdHLDoW5rYSBwcm8gdnl0dm/FmWVuw60gbm92w6kgcmV6ZXJ2YWNlLgogKiBUZW50byBzb3Vib3Igb2JzYWh1amUgbG9naWt1IHBybyB6cHJhY292w6Fuw60gZm9ybXVsw6HFmWUgcmV6ZXJ2YWNlLAogKiB2YWxpZGFjaSB2c3R1cMWvIGEgdWxvxb5lbsOtIHJlemVydmFjZSBkbyBkYXRhYsOhemUuCiAqLwoKc2Vzc2lvbl9zdGFydCgpOwppbmNsdWRlICdjb25uLnBocCc7CmluY2x1ZGUgJ2NhbGN1bGF0ZV9wcmljZV9sb2dpYy5waHAnOyAvLyBOYcSNdGVtZSBsb2dpa3UgdsO9cG/EjXR1IGNlbnkKCi8qKgogKiBAdmFyIGJvb2wgJGlzX2xvZ2dlZF9pbiBJbmZvcm1hY2UgbyB0b20sIHpkYSBqZSB1xb5pdmF0ZWwgcMWZaWhsw6HFoWVuLgogKi8KJGlzX2xvZ2dlZF9pbiA9IGlzc2V0KCRfU0VTU0lPTlsndXNlcl9pZCddKTsKCi8qKgogKiBAdmFyIGFycmF5ICRwcmVfZGF0YSBQb2xlIG9ic2FodWrDrWPDrSBwxZllZHZ5cGxuxJtuw6EgZGF0YSB1xb5pdmF0ZWxlIChqbcOpbm8sIHDFmcOtam1lbsOtLCBlbWFpbCwgdGVsZWZvbikuCiAqLwokcHJlX2RhdGEgPSBbXTsKCi8qKgogKiBOYcSNdGVuw60gdcW+aXZhdGVsc2vDvWNoIGRhdCBwcm8gcMWZZWR2eXBsbsSbbsOtIGZvcm11bMOhxZllLCBwb2t1ZCBqZSB1xb5pdmF0ZWwgcMWZaWhsw6HFoWVuLgogKiAKICogQHJldHVybiB2b2lkCiAqLwppZiAoJGlzX2xvZ2dlZF9pbikgewogICAgJHVzZXJfaWQgPSAkX1NFU1NJT05bJ3VzZXJfaWQnXTsKICAgICRzdG10ID0gJGNvbm4tPnByZXBhcmUoIlNFTEVDVCBqbWVubywgcHJpam1lbmksIGVtYWlsLCB0ZWxlZm9uIEZST00gdXNlcnMgV0hFUkUgaWQgPSA/Iik7CiAgICAkc3RtdC0+YmluZF9wYXJhbSgiaSIsICR1c2VyX2lkKTsKICAgICRzdG10LT5leGVjdXRlKCk7CiAgICAkcmVzID0gJHN0bXQtPmdldF9yZXN1bHQoKTsKICAgIGlmICgkcmVzLT5udW1fcm93cyA+IDApIHsKICAgICAgICAkcHJlX2RhdGEgPSAkcmVzLT5mZXRjaF9hc3NvYygpOwogICAgfQp9CgovKioKICogWnByYWNvdsOhbsOtIGZvcm11bMOhxZllIHJlemVydmFjZS4KICogUG9rdWQgamUgZm9ybXVsw6HFmSBvZGVzbMOhbiBtZXRvZG91IFBPU1QgYSB1xb5pdmF0ZWwgamUgcMWZaWhsw6HFoWVuLAogKiBwcm92ZWRlIHNlIHZhbGlkYWNlIHZzdHVwxa8gYSB1bG/FvmVuw60gcmV6ZXJ2YWNlIGRvIGRhdGFiw6F6ZS4KICogCiAqIEByZXR1cm4gdm9pZAogKi8KaWYgKCRfU0VSVkVSWydSRVFVRVNUX01FVEhPRCddID09PSAnUE9TVCcgJiYgJGlzX2xvZ2dlZF9pbikgewogICAgJHVzZXJfaWQgPSAkX1NFU1NJT05bJ3VzZXJfaWQnXTsKCiAgICAvLyBEYXRhIHogZm9ybXVsw6HFmWUKICAgICRzdGFydCA9ICRfUE9TVFsnZGF0dW1fcHJpamV6ZHUnXTsKICAgICRlbmQgPSAkX1BPU1RbJ2RhdHVtX29kamV6ZHUnXTsKICAgICRwb3puYW1rYSA9IHRyaW0oJF9QT1NUWydwb3puYW1rYSddKTsKICAgICRqbWVubyA9IHRyaW0oJF9QT1NUWydqbWVubyddKTsKICAgICRwcmlqbWVuaSA9IHRyaW0oJF9QT1NUWydwcmlqbWVuaSddKTsKICAgICRlbWFpbCA9IHRyaW0oJF9QT1NUWydlbWFpbCddKTsKICAgICR0ZWxlZm9uID0gdHJpbSgkX1BPU1RbJ3RlbGVmb24nXSk7CgogICAgLy8gU2FuaXRpemUgaW5wdXRzCiAgICAkcG96bmFta2EgPSBodG1sc3BlY2lhbGNoYXJzKCRwb3puYW1rYSwgRU5UX1FVT1RFUywgJ1VURi04Jyk7CiAgICAkam1lbm8gPSBodG1sc3BlY2lhbGNoYXJzKCRqbWVubywgRU5UX1FVT1RFUywgJ1VURi04Jyk7CiAgICAkcHJpam1lbmkgPSBodG1sc3BlY2lhbGNoYXJzKCRwcmlqbWVuaSwgRU5UX1FVT1RFUywgJ1VURi04Jyk7CiAgICAkZW1haWwgPSBmaWx0ZXJfdmFyKCRlbWFpbCwgRklMVEVSX1NBTklUSVpFX0VNQUlMKTsKICAgICR0ZWxlZm9uID0gaHRtbHNwZWNpYWxjaGFycygkdGVsZWZvbiwgRU5UX1FVT1RFUywgJ1VURi04Jyk7CgogICAgLyoqCiAgICAgKiBQSFAgdmFsaWRhY2UgdnN0dXDFrywgcG9rdWQgamUgb2JlxaFsw6EgamF2YXNjcmlwdCB2YWxpZGFjZS4KICAgICAqIEtvbnRyb2x1amUgZMOpbGt1IHBvem7DoW1reSwgam3DqW5hLCBwxZnDrWptZW7DrSwgZm9ybcOhdCBlbWFpbHUsIHRlbGVmb25uw60gxI3DrXNsbyBhIGRhdHVteS4KICAgICAqLwogICAgaWYgKHN0cmxlbigkcG96bmFta2EpID4gNTApIHsKICAgICAgICBlY2hvICI8c2NyaXB0PmFsZXJ0KCdQb3puw6Fta2EgbmVzbcOtIGLDvXQgZGVsxaHDrSBuZcW+IDUwIHpuYWvFry4nKTsgd2luZG93Lmhpc3RvcnkuYmFjaygpOzwvc2NyaXB0PiI7CiAgICAgICAgZXhpdDsKICAgIH0KICAgIGlmIChzdHJsZW4oJGptZW5vKSA8IDMgfHwgc3RybGVuKCRwcmlqbWVuaSkgPCAzKSB7CiAgICAgICAgZWNobyAiPHNjcmlwdD5hbGVydCgnSm3DqW5vIGEgcMWZw61qbWVuw60gbXVzw60gbcOtdCBhbGVzcG/FiCAzIHpuYWt5LicpOyB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7PC9zY3JpcHQ+IjsKICAgICAgICBleGl0OwogICAgfQogICAgaWYgKCFmaWx0ZXJfdmFyKCRlbWFpbCwgRklMVEVSX1ZBTElEQVRFX0VNQUlMKSkgewogICAgICAgIGVjaG8gIjxzY3JpcHQ+YWxlcnQoJ05lcGxhdG7DvSBmb3Jtw6F0IGUtbWFpbHUuJyk7IHdpbmRvdy5oaXN0b3J5LmJhY2soKTs8L3NjcmlwdD4iOwogICAgICAgIGV4aXQ7CiAgICB9CiAgICBpZiAoIXByZWdfbWF0Y2goJy9eXGR7OX0kLycsICR0ZWxlZm9uKSkgewogICAgICAgIGVjaG8gIjxzY3JpcHQ+YWxlcnQoJ1RlbGVmb25uw60gxI3DrXNsbyBtdXPDrSBvYnNhaG92YXQgcMWZZXNuxJsgOSDEjcOtc2xpYy4nKTsgd2luZG93Lmhpc3RvcnkuYmFjaygpOzwvc2NyaXB0PiI7CiAgICAgICAgZXhpdDsKICAgIH0KICAgIGlmICgkc3RhcnQgPj0gJGVuZCkgewogICAgICAgIGVjaG8gIjxzY3JpcHQ+YWxlcnQoJ0RhdHVtIG9kamV6ZHUgbXVzw60gYsO9dCBwb3pkxJtqaSBuZcW+IGRhdHVtIHDFmcOtamV6ZHUuJyk7IHdpbmRvdy5oaXN0b3J5LmJhY2soKTs8L3NjcmlwdD4iOwogICAgICAgIGV4aXQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBLb250cm9sYSBkb3N0dXBub3N0aSB0ZXJtw61udS4KICAgICAqIFBva3VkIGplIHRlcm3DrW4gb2JzYXplbiwgem9icmF6w60gc2UgY2h5Ym92w6EgenByw6F2YS4KICAgICAqLwogICAgaWYgKCFpc1Rlcm1BdmFpbGFibGUoJGNvbm4sICRzdGFydCwgJGVuZCkpIHsKICAgICAgICBlY2hvICI8c2NyaXB0PmFsZXJ0KCdDaHliYTogVGVybcOtbiBqZSBqacW+IG9ic2F6ZW4hJyk7IHdpbmRvdy5sb2NhdGlvbi5ocmVmPSdyZXplcnZhY2UucGhwJzs8L3NjcmlwdD4iOwogICAgICAgIGV4aXQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBWw71wb8SNZXQgY2Vsa292w6kgY2VueSByZXplcnZhY2UuCiAgICAgKiAKICAgICAqIEB2YXIgZmxvYXQgJGZpbmFsX3ByaWNlIENlbGtvdsOhIGNlbmEgcmV6ZXJ2YWNlLgogICAgICovCiAgICAkZmluYWxfcHJpY2UgPSBjYWxjdWxhdGVUb3RhbFByaWNlKCRjb25uLCAkc3RhcnQsICRlbmQpOwoKICAgIC8qKgogICAgICogVWxvxb5lbsOtIHJlemVydmFjZSBkbyBkYXRhYsOhemUuCiAgICAgKiBQb2t1ZCBzZSByZXplcnZhY2UgdWxvxb7DrSDDunNwxJvFoW7EmywgdcW+aXZhdGVsIGplIHDFmWVzbcSbcm92w6FuIG5hIHN0csOhbmt1IHByb2ZpbHUuCiAgICAgKi8KICAgICRzdG10ID0gJGNvbm4tPnByZXBhcmUoIklOU0VSVCBJTlRPIHJlc2VydmF0aW9ucyAodXNlcl9pZCwgZGF0dW1fcHJpamV6ZHUsIGRhdHVtX29kamV6ZHUsIGNlbGtvdmFfY2VuYSwgcG96bmFta2EsIGptZW5vLCBwcmlqbWVuaSwgZW1haWwsIHRlbGVmb24pIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPywgPykiKTsKICAgICRzdG10LT5iaW5kX3BhcmFtKCJpc3Nkc3Nzc3MiLCAkdXNlcl9pZCwgJHN0YXJ0LCAkZW5kLCAkZmluYWxfcHJpY2UsICRwb3puYW1rYSwgJGptZW5vLCAkcHJpam1lbmksICRlbWFpbCwgJHRlbGVmb24pOwoKICAgIGlmICgkc3RtdC0+ZXhlY3V0ZSgpKSB7CiAgICAgICAgZWNobyAiPHNjcmlwdD5hbGVydCgnUmV6ZXJ2YWNlIGJ5bGEgw7pzcMSbxaFuxJsgdnl0dm/FmWVuYSEnKTsgd2luZG93LmxvY2F0aW9uLmhyZWY9J3Byb2ZpbGUucGhwJzs8L3NjcmlwdD4iOwogICAgICAgIGV4aXQ7CiAgICB9IGVsc2UgewogICAgICAgIGVjaG8gIjxzY3JpcHQ+YWxlcnQoJ0NoeWJhIHDFmWkgdWtsw6Fkw6Fuw606ICIgLiAkY29ubi0+ZXJyb3IgLiAiJyk7PC9zY3JpcHQ+IjsKICAgIH0KfQo/Pgo8IURPQ1RZUEUgaHRtbD4KPGh0bWwgbGFuZz0iY3MiPgo8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wIj4KICAgIDx0aXRsZT5SZXplcnZhY2U8L3RpdGxlPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJzdHlsZS5jc3MiPgogICAgPHNjcmlwdD4KICAgICAgZmV0Y2goImhlYWRlci5waHAiKQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSkKICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoZWFkZXItcGxhY2Vob2xkZXIiKS5pbm5lckhUTUwgPSBkYXRhOwogICAgICAgIH0pOwogICAgPC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGlkPSJoZWFkZXItcGxhY2Vob2xkZXIiPjwvZGl2PgogICAgCiAgICA8c2VjdGlvbiBjbGFzcz0icmVzZXJ2YXRpb24taGVybyI+CiAgICAgICAgPGRpdiBjbGFzcz0iYmFja2dyb3VuZC1pbWFnZSI+PC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0icmV6ZXJ2YWNlIj4KICAgICAgICAgICAgPGgyPk5vdsOhIFJlemVydmFjZTwvaDI+CiAgICAgICAgICAgIAogICAgICAgICAgICA8P3BocCBpZiAoJGlzX2xvZ2dlZF9pbik6ID8+CiAgICAgICAgICAgICAgICA8cCBjbGFzcz0icG9waXMtdGV4dCI+WmtvbnRyb2x1anRlIMO6ZGFqZSBhIHZ5YmVydGUgdGVybcOtbi48L3A+CgogICAgICAgICAgICAgICAgPGZvcm0gaWQ9InJlemVydmFjbmktZm9ybXVsYXIiIG1ldGhvZD0icG9zdCIgYWN0aW9uPSJyZXplcnZhY2UucGhwIj4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLXJvdyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkptw6lubzwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iam1lbm8iIHZhbHVlPSI8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJHByZV9kYXRhWydqbWVubyddID8/ICcnKTsgPz4iIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+UMWZw61qbWVuw608L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9InByaWptZW5pIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRwcmVfZGF0YVsncHJpam1lbmknXSA/PyAnJyk7ID8+IiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tcm93Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+RW1haWw8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImVtYWlsIiBuYW1lPSJlbWFpbCIgdmFsdWU9Ijw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkcHJlX2RhdGFbJ2VtYWlsJ10gPz8gJycpOyA/PiIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5UZWxlZm9uPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJ0ZWxlZm9uIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRwcmVfZGF0YVsndGVsZWZvbiddID8/ICcnKTsgPz4iIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1yb3ciPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5EYXR1bSBwxZnDrWplemR1PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJkYXRlIiBpZD0iZGF0dW1fcHJpamV6ZHUiIG5hbWU9ImRhdHVtX3ByaWplemR1IiByZXF1aXJlZCBtaW49Ijw/cGhwIGVjaG8gZGF0ZSgnWS1tLWQnKTsgPz4iPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+RGF0dW0gb2RqZXpkdTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZGF0ZSIgaWQ9ImRhdHVtX29kamV6ZHUiIG5hbWU9ImRhdHVtX29kamV6ZHUiIHJlcXVpcmVkIG1pbj0iPD9waHAgZWNobyBkYXRlKCdZLW0tZCcsIHN0cnRvdGltZSgnKzEgZGF5JykpOyA/PiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlBvem7DoW1rYSAodm9saXRlbG7DqSwgbWF4LiA1MCB6bmFrxa8pPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIG5hbWU9InBvem5hbWthIiBwbGFjZWhvbGRlcj0iTmFwxZkuIHDFmWlzdMO9bGthIHBybyBkw610xJsuLi4iPjwvdGV4dGFyZWE+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InByaWNlLXJlc3VsdCIgY2xhc3M9InByaWNlLXJlc3VsdC1ib3giPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImRhdGUtZXJyb3IiIGNsYXNzPSJlcnJvci1tc2ciPjwvZGl2PgoKICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgaWQ9InN1Ym1pdC1idG4iIGRpc2FibGVkPlZ5YmVydGUgdGVybcOtbjwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9mb3JtPgoKICAgICAgICAgICAgPD9waHAgZWxzZTogPz4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im5vdC1sb2dnZWQtd3JhcHBlciI+CiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9Im5vdC1sb2dnZWQtdGV4dCI+UHJvIHJlemVydmFjaSBzZSBtdXPDrXRlIHDFmWlobMOhc2l0LjwvcD4KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJsb2dpbi5odG1sIiBjbGFzcz0ibG9naW4tYnV0dG9uIGJ0bi1saW5rIj5QxZlpaGzDoXNpdCBzZTwvYT4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4KICAgICAgICA8L2Rpdj4KICAgIDwvc2VjdGlvbj4KICAgIDw/cGhwIGluY2x1ZGUgJ2Zvb3Rlci5odG1sJzsgPz4KICAgIDxzY3JpcHQ+CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgY29uc3Qgc3RhcnRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXR1bV9wcmlqZXpkdScpOwogICAgICAgICAgICBjb25zdCBlbmRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXR1bV9vZGplemR1Jyk7CiAgICAgICAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ImptZW5vIl0nKTsKICAgICAgICAgICAgY29uc3Qgc3VybmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT0icHJpam1lbmkiXScpOwogICAgICAgICAgICBjb25zdCBlbWFpbElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT0iZW1haWwiXScpOwogICAgICAgICAgICBjb25zdCBwaG9uZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT0idGVsZWZvbiJdJyk7CiAgICAgICAgICAgIGNvbnN0IG5vdGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhW25hbWU9InBvem5hbWthIl0nKTsKICAgICAgICAgICAgY29uc3QgcHJpY2VEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaWNlLXJlc3VsdCcpOwogICAgICAgICAgICBjb25zdCBlcnJvckRpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZS1lcnJvcicpOwogICAgICAgICAgICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0LWJ0bicpOwoKICAgICAgICAgICAgLy8gVmFsaWRhdGUgbmFtZQogICAgICAgICAgICBuYW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVWYWx1ZSA9IG5hbWVJbnB1dC52YWx1ZS50cmltKCk7CiAgICAgICAgICAgICAgICBpZiAobmFtZVZhbHVlLmxlbmd0aCA8IDMgfHwgbmFtZVZhbHVlLmxlbmd0aCA+IDQwKSB7CiAgICAgICAgICAgICAgICAgICAgbmFtZUlucHV0LnN0eWxlLmJvcmRlciA9ICJzb2xpZCByZWQgM3B4IjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbmFtZUlucHV0LnN0eWxlLmJvcmRlciA9ICJzb2xpZCBibGFjayAxcHgiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFsaWRhdGVGb3JtKCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gVmFsaWRhdGUgc3VybmFtZQogICAgICAgICAgICBzdXJuYW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHN1cm5hbWVWYWx1ZSA9IHN1cm5hbWVJbnB1dC52YWx1ZS50cmltKCk7CiAgICAgICAgICAgICAgICBpZiAoc3VybmFtZVZhbHVlLmxlbmd0aCA8IDMgfHwgc3VybmFtZVZhbHVlLmxlbmd0aCA+IDQwKSB7CiAgICAgICAgICAgICAgICAgICAgc3VybmFtZUlucHV0LnN0eWxlLmJvcmRlciA9ICJzb2xpZCByZWQgM3B4IjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc3VybmFtZUlucHV0LnN0eWxlLmJvcmRlciA9ICJzb2xpZCBibGFjayAxcHgiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFsaWRhdGVGb3JtKCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gVmFsaWRhdGUgZW1haWwKICAgICAgICAgICAgZW1haWxJbnB1dC5hZGRFdmVudExpc3RlbmVyKCJibHVyIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgY29uc3QgZW1haWxWYWx1ZSA9IGVtYWlsSW5wdXQudmFsdWUudHJpbSgpOwogICAgICAgICAgICAgICAgaWYgKGVtYWlsVmFsdWUubGVuZ3RoIDwgNiB8fCAhZW1haWxWYWx1ZS5pbmNsdWRlcygiQCIpKSB7CiAgICAgICAgICAgICAgICAgICAgZW1haWxJbnB1dC5zdHlsZS5ib3JkZXIgPSAic29saWQgcmVkIDNweCI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGVtYWlsSW5wdXQuc3R5bGUuYm9yZGVyID0gInNvbGlkIGJsYWNrIDFweCI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YWxpZGF0ZUZvcm0oKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyBWYWxpZGF0ZSBwaG9uZSBudW1iZXIKICAgICAgICAgICAgcGhvbmVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCJibHVyIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgY29uc3QgcGhvbmVWYWx1ZSA9IHBob25lSW5wdXQudmFsdWUudHJpbSgpOwogICAgICAgICAgICAgICAgaWYgKCEvXlxkezl9JC8udGVzdChwaG9uZVZhbHVlKSkgewogICAgICAgICAgICAgICAgICAgIHBob25lSW5wdXQuc3R5bGUuYm9yZGVyID0gInNvbGlkIHJlZCAzcHgiOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBwaG9uZUlucHV0LnN0eWxlLmJvcmRlciA9ICJzb2xpZCBibGFjayAxcHgiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFsaWRhdGVGb3JtKCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gVmFsaWRhdGUgInBvem7DoW1rYSIgbGVuZ3RoCiAgICAgICAgICAgIG5vdGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGlmIChub3RlSW5wdXQudmFsdWUubGVuZ3RoID4gNTApIHsKICAgICAgICAgICAgICAgICAgICBub3RlSW5wdXQuc3R5bGUuYm9yZGVyID0gInNvbGlkIHJlZCAzcHgiOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBub3RlSW5wdXQuc3R5bGUuYm9yZGVyID0gInNvbGlkIGJsYWNrIDFweCI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gVmFsaWRhdGUgYXJyaXZhbCBhbmQgZGVwYXJ0dXJlIGRhdGVzCiAgICAgICAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlRGF0ZXMoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IHN0YXJ0SW5wdXQudmFsdWU7CiAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBlbmRJbnB1dC52YWx1ZTsKCiAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0KSB7CiAgICAgICAgICAgICAgICAgICAgc3RhcnRJbnB1dC5zdHlsZS5ib3JkZXIgPSAic29saWQgcmVkIDNweCI7CiAgICAgICAgICAgICAgICAgICAgZXJyb3JEaXNwbGF5LmlubmVyVGV4dCA9ICJEYXR1bSBwxZnDrWplemR1IGplIHBvdmlubsOpLiI7CiAgICAgICAgICAgICAgICAgICAgZXJyb3JEaXNwbGF5LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgICAgIHN1Ym1pdEJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzdGFydElucHV0LnN0eWxlLmJvcmRlciA9ICJzb2xpZCBibGFjayAxcHgiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZW5kKSB7CiAgICAgICAgICAgICAgICAgICAgZW5kSW5wdXQuc3R5bGUuYm9yZGVyID0gInNvbGlkIHJlZCAzcHgiOwogICAgICAgICAgICAgICAgICAgIGVycm9yRGlzcGxheS5pbm5lclRleHQgPSAiRGF0dW0gb2RqZXpkdSBqZSBwb3Zpbm7DqS4iOwogICAgICAgICAgICAgICAgICAgIGVycm9yRGlzcGxheS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgICAgICBzdWJtaXRCdG4uZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZW5kSW5wdXQuc3R5bGUuYm9yZGVyID0gInNvbGlkIGJsYWNrIDFweCI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID49IGVuZCkgewogICAgICAgICAgICAgICAgICAgIGVycm9yRGlzcGxheS5pbm5lclRleHQgPSAiRGF0dW0gb2RqZXpkdSBtdXPDrSBiw710IHBvemTEm2ppIG5lxb4gZGF0dW0gcMWZw61qZXpkdS4iOwogICAgICAgICAgICAgICAgICAgIGVycm9yRGlzcGxheS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgICAgICBzdGFydElucHV0LnN0eWxlLmJvcmRlciA9ICJzb2xpZCByZWQgM3B4IjsKICAgICAgICAgICAgICAgICAgICBlbmRJbnB1dC5zdHlsZS5ib3JkZXIgPSAic29saWQgcmVkIDNweCI7CiAgICAgICAgICAgICAgICAgICAgc3VibWl0QnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGVycm9yRGlzcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgICAgICBzdGFydElucHV0LnN0eWxlLmJvcmRlciA9ICJzb2xpZCBibGFjayAxcHgiOwogICAgICAgICAgICAgICAgICAgIGVuZElucHV0LnN0eWxlLmJvcmRlciA9ICJzb2xpZCBibGFjayAxcHgiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBVcGRhdGUgdGhlICJtaW4iIGF0dHJpYnV0ZSBvZiB0aGUgZGVwYXJ0dXJlIGRhdGUgYmFzZWQgb24gdGhlIGFycml2YWwgZGF0ZQogICAgICAgICAgICBzdGFydElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IHN0YXJ0SW5wdXQudmFsdWU7CiAgICAgICAgICAgICAgICBpZiAoc3RhcnREYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgZW5kSW5wdXQuc2V0QXR0cmlidXRlKCdtaW4nLCBzdGFydERhdGUpOwoKICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGUgZGVwYXJ0dXJlIGRhdGUgaWYgaXQncyBlYXJsaWVyIHRoYW4gdGhlIG5ldyBhcnJpdmFsIGRhdGUKICAgICAgICAgICAgICAgICAgICBpZiAoZW5kSW5wdXQudmFsdWUgJiYgZW5kSW5wdXQudmFsdWUgPCBzdGFydERhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZW5kSW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0QnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VEaXNwbGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhbGlkYXRlRGF0ZXMoKTsKICAgICAgICAgICAgICAgIHZhbGlkYXRlRm9ybSgpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIFZhbGlkYXRlIGRlcGFydHVyZSBkYXRlIG9uIGNoYW5nZQogICAgICAgICAgICBlbmRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YWxpZGF0ZURhdGVzKCk7CiAgICAgICAgICAgICAgICB2YWxpZGF0ZUZvcm0oKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyBDaGVjayB0aGUgcHJpY2Ugd2hlbiBib3RoIGRhdGVzIGFyZSB2YWxpZAogICAgICAgICAgICBmdW5jdGlvbiBjaGVja1ByaWNlKCkgewogICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlRGF0ZXMoKSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gc3RhcnRJbnB1dC52YWx1ZTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBlbmRJbnB1dC52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgZmV0Y2goYGdldF9wcmljZV9hcGkucGhwP3N0YXJ0PSR7c3RhcnR9JmVuZD0ke2VuZH1gKQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvckRpc3BsYXkuaW5uZXJUZXh0ID0gZGF0YS5lcnJvcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvckRpc3BsYXkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VEaXNwbGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pdEJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0QnRuLmlubmVyVGV4dCA9ICJUZXJtw61uIG9ic2F6ZW4iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvckRpc3BsYXkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VEaXNwbGF5LmlubmVySFRNTCA9IGBQb8SNZXQgbm9jw606ICR7ZGF0YS5uaWdodHN9PGJyPkNlbGtvdsOhIGNlbmE6ICR7ZGF0YS5wcmljZX0gS8SNYDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZURpc3BsYXkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0QnRuLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0QnRuLmlubmVyVGV4dCA9ICJaw6F2YXpuxJsgcmV6ZXJ2b3ZhdCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcigiQ2h5YmE6IiwgZXJyKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnMgdG8gY2hlY2sgdGhlIHByaWNlIHdoZW4gZGF0ZXMgYXJlIHNlbGVjdGVkCiAgICAgICAgICAgIHN0YXJ0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgY2hlY2tQcmljZSk7CiAgICAgICAgICAgIGVuZElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGNoZWNrUHJpY2UpOwoKICAgICAgICAgICAgLy8gVmFsaWRhdGUgdGhlIGVudGlyZSBmb3JtCiAgICAgICAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlRm9ybSgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVWYWx1ZSA9IG5hbWVJbnB1dC52YWx1ZS50cmltKCk7CiAgICAgICAgICAgICAgICBjb25zdCBzdXJuYW1lVmFsdWUgPSBzdXJuYW1lSW5wdXQudmFsdWUudHJpbSgpOwogICAgICAgICAgICAgICAgY29uc3QgZW1haWxWYWx1ZSA9IGVtYWlsSW5wdXQudmFsdWUudHJpbSgpOwogICAgICAgICAgICAgICAgY29uc3QgcGhvbmVWYWx1ZSA9IHBob25lSW5wdXQudmFsdWUudHJpbSgpOwoKICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICBuYW1lVmFsdWUubGVuZ3RoID49IDMgJiYKICAgICAgICAgICAgICAgICAgICBzdXJuYW1lVmFsdWUubGVuZ3RoID49IDMgJiYKICAgICAgICAgICAgICAgICAgICBlbWFpbFZhbHVlLmxlbmd0aCA+PSA2ICYmCiAgICAgICAgICAgICAgICAgICAgZW1haWxWYWx1ZS5pbmNsdWRlcygiQCIpICYmCiAgICAgICAgICAgICAgICAgICAgL15cZHs5fSQvLnRlc3QocGhvbmVWYWx1ZSkgJiYKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZURhdGVzKCkKICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgIHN1Ym1pdEJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzdWJtaXRCdG4uZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBQcmV2ZW50IGZvcm0gc3VibWlzc2lvbiBpZiBmaWVsZHMgYXJlIGludmFsaWQKICAgICAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXplcnZhY25pLWZvcm11bGFyJyk7CiAgICAgICAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgICAgICBpZiAoc3VibWl0QnRuLmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIkZvcm11bMOhxZkgb2JzYWh1amUgY2h5YnkuIE9wcmF2dGUgamUgcHJvc8OtbSBwxZllZCBvZGVzbMOhbsOtbS4iKTsKICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChub3RlSW5wdXQudmFsdWUubGVuZ3RoID4gNTApIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgiUG96bsOhbWthIG5lc23DrSBiw710IGRlbMWhw60gbmXFviA1MCB6bmFrxa8uIik7CiAgICAgICAgICAgICAgICAgICAgbm90ZUlucHV0LnN0eWxlLmJvcmRlciA9ICJzb2xpZCByZWQgM3B4IjsKICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIFZhbGlkYXRlICJwb3puw6Fta2EiIGxlbmd0aCBpbiByZWFsLXRpbWUKICAgICAgICAgICAgbm90ZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgaWYgKG5vdGVJbnB1dC52YWx1ZS5sZW5ndGggPiA1MCkgewogICAgICAgICAgICAgICAgICAgIG5vdGVJbnB1dC5zdHlsZS5ib3JkZXIgPSAic29saWQgcmVkIDNweCI7CiAgICAgICAgICAgICAgICAgICAgc3VibWl0QnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbm90ZUlucHV0LnN0eWxlLmJvcmRlciA9ICJzb2xpZCBibGFjayAxcHgiOwogICAgICAgICAgICAgICAgICAgIHN1Ym1pdEJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIFByZXZlbnQgZm9ybSBzdWJtaXNzaW9uIGlmICJwb3puw6Fta2EiIGV4Y2VlZHMgNTAgY2hhcmFjdGVycwogICAgICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgICAgaWYgKG5vdGVJbnB1dC52YWx1ZS5sZW5ndGggPiA1MCkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJQb3puw6Fta2EgbmVzbcOtIGLDvXQgZGVsxaHDrSBuZcW+IDUwIHpuYWvFry4iKTsKICAgICAgICAgICAgICAgICAgICBub3RlSW5wdXQuc3R5bGUuYm9yZGVyID0gInNvbGlkIHJlZCAzcHgiOwogICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgPC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0ibWVudS5qcyI+PC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPiI7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrIjo3OntzOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAHN1bW1hcnkiO3M6MDoiIjtzOjQ2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAGRlc2NyaXB0aW9uIjtPOjQ1OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcRGVzY3JpcHRpb24iOjI6e3M6NTk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcRGVzY3JpcHRpb24AYm9keVRlbXBsYXRlIjtzOjA6IiI7czo1MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbgB0YWdzIjthOjA6e319czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawB0YWdzIjthOjE6e2k6MDtPOjQ2OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcVGFnc1xHZW5lcmljIjoyOntzOjc6IgAqAG5hbWUiO3M6NDoiZmlsZSI7czoxNDoiACoAZGVzY3JpcHRpb24iO086NDU6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbiI6Mjp7czo1OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbgBib2R5VGVtcGxhdGUiO3M6MTc3OiJyZXplcnZhY2UucGhwClN0csOhbmthIHBybyB2eXR2b8WZZW7DrSBub3bDqSByZXplcnZhY2UuClRlbnRvIHNvdWJvciBvYnNhaHVqZSBsb2dpa3UgcHJvIHpwcmFjb3bDoW7DrSBmb3JtdWzDocWZZSByZXplcnZhY2UsCnZhbGlkYWNpIHZzdHVwxa8gYSB1bG/FvmVuw60gcmV6ZXJ2YWNlIGRvIGRhdGFiw6F6ZS4iO3M6NTE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcRGVzY3JpcHRpb24AdGFncyI7YTowOnt9fX19czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawBjb250ZXh0IjtPOjM4OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcQ29udGV4dCI6Mjp7czo0OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xDb250ZXh0AG5hbWVzcGFjZSI7czowOiIiO3M6NTY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcQ29udGV4dABuYW1lc3BhY2VBbGlhc2VzIjthOjA6e319czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawBsb2NhdGlvbiI7TjtzOjUwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAGlzVGVtcGxhdGVTdGFydCI7YjowO3M6NDg6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAaXNUZW1wbGF0ZUVuZCI7YjowO31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG1ldGFkYXRhIjthOjA6e319";