<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Registrace</title>
  <script>
    fetch("header.php")
      .then(response => response.text())
      .then(data => {
        document.getElementById("header-placeholder").innerHTML = data;
      });
  </script>
</head>
<body>
  <div id="header-placeholder"></div>
  
  <section class="login-hero">
    <div class="background-image"></div>
    <main id="login-container">
      <section class="login-form-wrapper">
        <h1 class="login-title">Registrace</h1>
        
        <form id="registration-form" method="post" action="register.php">
          <div class="form-group">
            <label for="first-name" class="form-label">Jméno</label>
            <input type="text" id="first-name" name="first-name" class="form-input" placeholder="Zadejte své jméno" required>
          </div>
          <div class="form-group">
            <label for="last-name" class="form-label">Příjmení</label>
            <input type="text" id="last-name" name="last-name" class="form-input" placeholder="Zadejte své příjmení" required>
          </div>
          <div class="form-group">
            <label for="phone" class="form-label">Telefonní číslo</label>
            <input type="tel" id="phone" name="phone" class="form-input" placeholder="Zadejte své telefonní číslo" required>
          </div>
          <div class="form-group">
            <label for="birthdate" class="form-label">Datum narození</label>
            <input type="date" id="birthdate" name="birthdate" class="form-input" required>
          </div>
          <div class="form-group">
            <label for="email" class="form-label">E-mail</label>
            <input type="email" id="email" name="email" class="form-input" placeholder="Zadejte svůj e-mail" required>
          </div>
          <div class="form-group">
            <label for="confirm-email" class="form-label">Potvrzení e-mailu</label>
            <input type="email" id="confirm-email" name="confirm-email" class="form-input" placeholder="Zadejte e-mail znovu" required>
          </div>
          <div class="form-group">
            <label for="password" class="form-label">Heslo</label>
            <input type="password" id="password" name="password" class="form-input" placeholder="Zadejte své heslo" required>
          </div>
          
          <div id="email-error-msg" class="error-msg">Tento e-mail je již registrován!</div>

          <button type="submit" class="login-button">Registrovat</button>
        </form>
        
        <div class="register-link">
          <p>Již máte účet? <a href="login.html">Přihlaste se zde</a></p>
        </div>
      </section>
    </main>
  </section>

  <footer>
    <p>&copy; 2023 Vilémův strejda. Všechna práva vyhrazena.</p>
  </footer>

  <script>
    // Získáme parametry z URL
    const urlParams = new URLSearchParams(window.location.search);
    
    // Pokud je v URL parametr error=exists
    if (urlParams.get('error') === 'exists') {
        const errorDiv = document.getElementById('email-error-msg');
        if (errorDiv) {
            // Přidáme třídu active, která zviditelní červený text
            errorDiv.classList.add('active');
            
            // Volitelné: Scrollnout na chybu, aby si jí uživatel všiml
            errorDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    }
  </script>
</body>
</html>